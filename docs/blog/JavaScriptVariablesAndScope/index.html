<!DOCTYPE html><html lang="en" style="--search-bar-menu-bar-height:0px;"><head><meta name="generator" content="Scully 1.0.11">
    <meta charset="utf-8">
    <title>David Beales Blog</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="assets/favicon-32x32.png" sizes="32x32">

    <script src="assets/prism/prism.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <link rel="stylesheet" href="assets/prism/prism.css">
<link rel="stylesheet" href="styles.40b3fcb069b136406260.css"><style>[_nghost-jdy-c18]{--router-outlet-vertical-padding:20px;--router-outlet-padding-top:calc(var(--menu-bar-total-height) + var(--router-outlet-vertical-padding));--main-bg-color:#f8f8f8}app-menu-bar[_ngcontent-jdy-c18]{position:fixed;top:0;width:100%;z-index:2}.main-container[_ngcontent-jdy-c18]{background-color:var(--main-bg-color);min-height:calc(100vh - (var(--router-outlet-padding-top) + var(--router-outlet-vertical-padding)));padding-top:var(--router-outlet-padding-top);padding-bottom:var(--router-outlet-vertical-padding)}.blog[_ngcontent-jdy-c18]{max-width:700px;margin:0 auto;padding:10px 20px;background-color:#fff;border:1px solid #d3d3d3}footer[_ngcontent-jdy-c18]{background-color:var(--main-bg-color);font-size:10px;text-align:center}.modal[_ngcontent-jdy-c18]{z-index:3;width:100vw;height:100vh;background-color:rgba(0,0,0,.8);cursor:zoom-out}.modal[_ngcontent-jdy-c18], .modal[_ngcontent-jdy-c18]   img[_ngcontent-jdy-c18]{position:fixed;bottom:0;left:0;right:0;top:0}.modal[_ngcontent-jdy-c18]   img[_ngcontent-jdy-c18]{max-width:100%;width:100%;max-height:100%;margin:auto;overflow:auto;-o-object-fit:contain;object-fit:contain}</style><style>[_nghost-jdy-c16]{--menu-bar-item-margin:20px;--menu-bar-search-item-margin:20px;--search-width:200px;--home-icon-font-size:28px;--menu-bar-item-display:inline}@media screen and (max-width:800px) and (min-width:600px){[_nghost-jdy-c16]{--menu-bar-search-item-margin:10px;--search-width:150px;--menu-bar-item-display:inline}}@media screen and (max-width:600px){[_nghost-jdy-c16]{--menu-bar-item-margin:10px;--menu-bar-search-item-margin:5px;--search-width:100px;--home-icon-font-size:28px;--menu-bar-item-display:none}}.menu-bar-container[_ngcontent-jdy-c16]{height:50px;grid-template-columns:repeat(3,-webkit-min-content) 1fr;grid-template-columns:repeat(3,min-content) 1fr;-moz-column-gap:var(--menu-bar-item-margin);column-gap:var(--menu-bar-item-margin);justify-content:left}.menu-bar-container[_ngcontent-jdy-c16], .menu-bar-search-container[_ngcontent-jdy-c16]{position:relative;align-items:center;width:100%;background-color:#eee;color:#000;border-bottom:1px solid #d3d3d3;display:grid}.menu-bar-search-container[_ngcontent-jdy-c16]{height:35px;grid-template-columns:repeat(1,-webkit-min-content) auto auto auto;grid-template-columns:repeat(1,min-content) auto auto auto;-moz-column-gap:var(--menu-bar-search-item-margin);column-gap:var(--menu-bar-search-item-margin);justify-content:center}#searchInput[_ngcontent-jdy-c16]{max-width:var(--search-width);padding:none;margin:none}.sort-name[_ngcontent-jdy-c16], .sort-tag[_ngcontent-jdy-c16], .sort-timestamp[_ngcontent-jdy-c16]{font-size:16px}.menu-link[_ngcontent-jdy-c16] > span[_ngcontent-jdy-c16], .sort-name[_ngcontent-jdy-c16] > div[_ngcontent-jdy-c16], .sort-tag[_ngcontent-jdy-c16] > div[_ngcontent-jdy-c16], .sort-timestamp[_ngcontent-jdy-c16] > div[_ngcontent-jdy-c16]{border-radius:5px;transition:.2s ease-in-out}.menu-link[_ngcontent-jdy-c16] > span[_ngcontent-jdy-c16]:hover, .sort-name[_ngcontent-jdy-c16] > div[_ngcontent-jdy-c16]:hover, .sort-tag[_ngcontent-jdy-c16] > div[_ngcontent-jdy-c16]:hover, .sort-timestamp[_ngcontent-jdy-c16] > div[_ngcontent-jdy-c16]:hover{cursor:pointer;color:var(--active-link-green)}.menu-link[_ngcontent-jdy-c16] > span.active-link[_ngcontent-jdy-c16], [class*=sort-].active[_ngcontent-jdy-c16]{color:var(--active-link-green)}.menu-link[_ngcontent-jdy-c16]{font-size:var(--home-icon-font-size);transition:.2s ease-in-out}.menu-link[_ngcontent-jdy-c16] > span[_ngcontent-jdy-c16]:active, .menu-link[_ngcontent-jdy-c16] > span[_ngcontent-jdy-c16]:focus{outline:0;border:none}.menu-link.right[_ngcontent-jdy-c16]{text-align:right}.menu-link.right[_ngcontent-jdy-c16]   div[_ngcontent-jdy-c16], .menu-link.right[_ngcontent-jdy-c16]   span[_ngcontent-jdy-c16]{margin-right:var(--menu-bar-item-margin)}.menu-author[_ngcontent-jdy-c16]{display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;text-align:center}.menu-author[_ngcontent-jdy-c16]   div[_ngcontent-jdy-c16]{font-family:ps-regular;text-transform:uppercase;font-size:14px}.hamburger[_ngcontent-jdy-c16]{display:inline-block}.hamburger[_ngcontent-jdy-c16]:hover{cursor:pointer}.bar1[_ngcontent-jdy-c16]{margin-top:5px!important}.bar1[_ngcontent-jdy-c16], .bar2[_ngcontent-jdy-c16], .bar3[_ngcontent-jdy-c16]{width:20px;height:5px;background-color:#333;margin:3px 5px;transition:.4s}.change[_ngcontent-jdy-c16]   .bar1[_ngcontent-jdy-c16]{transform:rotate(-45deg) translate(-5px,5px)}.change[_ngcontent-jdy-c16]   .bar2[_ngcontent-jdy-c16]{opacity:0}.change[_ngcontent-jdy-c16]   .bar3[_ngcontent-jdy-c16]{transform:rotate(45deg) translate(-6px,-6px)}.sidebar[_ngcontent-jdy-c16]{top:var(--menu-bar-total-height);background-color:#eee;color:#000;border-right:1px solid #d3d3d3;font-size:16px;width:250px;position:fixed;overflow-y:auto;bottom:0}.sidebar-sub-headers-hidden[_ngcontent-jdy-c16]{display:none}.sidebar-header[_ngcontent-jdy-c16], .sidebar-header-tag[_ngcontent-jdy-c16], .sidebar-sub-headers[_ngcontent-jdy-c16]{border-bottom:1px solid #d3d3d3}.sidebar-header[_ngcontent-jdy-c16]{padding:8px}.sidebar-header-tag[_ngcontent-jdy-c16]{padding:8px 16px}.sidebar-sub-header[_ngcontent-jdy-c16]{padding:8px 26px}.sidebar-header-tag[_ngcontent-jdy-c16]   [class^=icon-][_ngcontent-jdy-c16]{font-size:10px}[class*=sidebar-][_ngcontent-jdy-c16]:hover{color:var(--active-link-green);cursor:pointer}[class*=sidebar-][_ngcontent-jdy-c16]:active, [class*=sidebar-][_ngcontent-jdy-c16]:focus{outline:0;border:none}.sidebar[_ngcontent-jdy-c16]   [class*=icon][_ngcontent-jdy-c16]{font-size:8px}.sidebar[_ngcontent-jdy-c16]   .icon-minus[_ngcontent-jdy-c16]{color:red}.sidebar-header.active-link[_ngcontent-jdy-c16], .sidebar-sub-header.active-link[_ngcontent-jdy-c16], .sidebar[_ngcontent-jdy-c16]   .icon-plus[_ngcontent-jdy-c16]{color:var(--active-link-green)}</style><style>.message[_ngcontent-jdy-c17]{z-index:9999;position:absolute;bottom:10px;right:0}.alert[_ngcontent-jdy-c17]{font-size:12px;text-align:center;width:120px;height:40px;margin-top:10px;margin-right:10px;border-radius:10px;position:relative;display:flex;align-items:center;justify-content:center}.alert-info[_ngcontent-jdy-c17]{color:rgb(var(--alert-info-color));background-color:rgba(var(--alert-info-background-color),.8);border:1px solid rgb(var(--alert-info-color))}.alert-interactive[_ngcontent-jdy-c17]{color:rgb(var(--alert-success-color));background-color:rgba(var(--alert-success-background-color),.8);border:1px solid rgb(var(--alert-success-color))}.alert-interactive[_ngcontent-jdy-c17]:hover{color:rgb(var(--alert-info-background-color));background-color:rgba(var(--alert-info-color),.8);cursor:pointer}[class^=icon-][_ngcontent-jdy-c17]{font-size:10px;padding-left:5px}</style><style></style><script>window['ScullyIO']='generated';</script></head>

<body scully-version="1.0.11">
    <app-root _nghost-jdy-c18="" ng-version="11.1.1"><app-menu-bar _ngcontent-jdy-c18="" _nghost-jdy-c16=""><div _ngcontent-jdy-c16="" class="menu-bar-container"><div _ngcontent-jdy-c16="" class="hamburger"><div _ngcontent-jdy-c16="" class="bar1"></div><div _ngcontent-jdy-c16="" class="bar2"></div><div _ngcontent-jdy-c16="" class="bar3"></div></div><div _ngcontent-jdy-c16="" class="menu-link"><span _ngcontent-jdy-c16="" routerlink="/home" routerlinkactive="active-link" class="icon-home" tabindex="0"></span></div><div _ngcontent-jdy-c16="" class="menu-link"><span _ngcontent-jdy-c16="" routerlink="/about" routerlinkactive="active-link" class="icon-profile" tabindex="0"></span></div><div _ngcontent-jdy-c16="" class="menu-link right"><span _ngcontent-jdy-c16="" class="icon-github"></span><span _ngcontent-jdy-c16="" class="icon-linkedin"></span><span _ngcontent-jdy-c16="" class="icon-envelop"></span><!----><div _ngcontent-jdy-c16="" class="menu-author"><div _ngcontent-jdy-c16="">David Beales</div></div></div></div><!----><!----></app-menu-bar><div _ngcontent-jdy-c18="" class="main-container"><div _ngcontent-jdy-c18="" class="blog"><router-outlet _ngcontent-jdy-c18=""></router-outlet><app-javascript-variables-and-scope _nghost-jdy-c12=""><h1 _ngcontent-jdy-c12=""> Variables and Scope</h1><p _ngcontent-jdy-c12=""> Like any language JavaScript has scopes and variables.
</p><p _ngcontent-jdy-c12=""> Variables are pretty self explanatory, they store information. However what syntax you use to declare variables will make a massive difference to how your code behaves. Lets look at <i _ngcontent-jdy-c12="">var</i>.
</p><hr _ngcontent-jdy-c12=""><h2 _ngcontent-jdy-c12="">Var</h2><p _ngcontent-jdy-c12=""><i _ngcontent-jdy-c12="">Var</i> is commonly is used to declare a variables (commonly in older code bases, but sometimes in new ones). The function below declares a variable <i _ngcontent-jdy-c12="">foo</i> and assigns <i _ngcontent-jdy-c12="">bar</i> to it
</p><div class="code-toolbar"><pre _ngcontent-jdy-c12="" class="example-neutral line-numbers language-javascript"><code _ngcontent-jdy-c12="" class="match-braces language-javascript"><span class="token keyword">function</span> <span class="token function">fooBar</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-43-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-43-open">)</span><span class="token punctuation brace-curly brace-open brace-level-1" id="pair-46-close">{</span>
  <span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">"bar"</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-44-close">(</span>foo<span class="token punctuation brace-round brace-close brace-level-2" id="pair-44-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-46-open">}</span>

<span class="token function">fooBar</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-45-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-45-open">)</span><span class="token punctuation">;</span> print bar<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-jdy-c12=""> This behaviour seems completely reasonable, the variable <i _ngcontent-jdy-c12="">foo</i> is declared in the function <i _ngcontent-jdy-c12="">fooBar</i>. It exists only in the function scope of <i _ngcontent-jdy-c12="">fooBar</i> and cannot be accessed outside of that scope. So what is the issue with <i _ngcontent-jdy-c12="">var</i>?
</p><div class="code-toolbar"><pre _ngcontent-jdy-c12="" class="example-neutral line-numbers language-javascript"><code _ngcontent-jdy-c12="" class="match-braces language-javascript"><span class="token keyword">for</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-47-close">(</span><span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span><span class="token number">99</span><span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-47-open">)</span><span class="token punctuation brace-curly brace-open brace-level-1" id="pair-50-close">{</span>
    <span class="token function">doSomeWork</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-48-close">(</span>index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-48-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-50-open">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-49-close">(</span>index<span class="token punctuation brace-round brace-close brace-level-1" id="pair-49-open">)</span><span class="token punctuation">;</span> <span class="token comment">// print 98</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-jdy-c12=""> Thats odd, you would expect an error when calling <i _ngcontent-jdy-c12="">index</i> outside of the for loop. Well not with <i _ngcontent-jdy-c12="">var</i>, it has no block scope. The same would apply with a <i _ngcontent-jdy-c12="">while, switch, if</i>, etc.
</p><hr _ngcontent-jdy-c12=""><h2 _ngcontent-jdy-c12=""> Hoisting Var</h2><p _ngcontent-jdy-c12=""> So <i _ngcontent-jdy-c12="">var</i> has no block scope, but does it do anything else exciting. Well, yes! It supports hoisting.
</p><div class="code-toolbar"><pre _ngcontent-jdy-c12="" class="example-neutral line-numbers language-javascript"><code _ngcontent-jdy-c12="" class="match-braces language-javascript"><span class="token keyword">function</span> <span class="token function">fooBar</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-51-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-51-open">)</span><span class="token punctuation brace-curly brace-open brace-level-1" id="pair-54-close">{</span>
	foo <span class="token operator">=</span> <span class="token string">"bar"</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-52-close">(</span>foo<span class="token punctuation brace-round brace-close brace-level-2" id="pair-52-open">)</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> foo<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-54-open">}</span>

<span class="token function">fooBar</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-53-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-53-open">)</span><span class="token punctuation">;</span> <span class="token comment">//prints bar</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-jdy-c12=""> I forgot to declare <i _ngcontent-jdy-c12="">foo</i> using <i _ngcontent-jdy-c12="">var</i> before I assigned a value to it. Guess what <i _ngcontent-jdy-c12="">var</i> doesn't care, as long as <i _ngcontent-jdy-c12="">foo</i> is declared somewhere in the function, you can assign to it. If your wondering, this is called hoisting. So declarations are hosted, but what about declaration and assignment in one. Lets try it out.
</p><div class="code-toolbar"><pre _ngcontent-jdy-c12="" class="example-bad line-numbers language-javascript"><code _ngcontent-jdy-c12="" class="match-braces language-javascript"><span class="token keyword">function</span> <span class="token function">fooBar</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-55-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-55-open">)</span><span class="token punctuation brace-curly brace-open brace-level-1" id="pair-58-close">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-56-close">(</span>foo<span class="token punctuation brace-round brace-close brace-level-2" id="pair-56-open">)</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">"bar"</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-58-open">}</span>

<span class="token function">fooBar</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-57-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-57-open">)</span><span class="token punctuation">;</span> <span class="token comment">//prints undefined</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-jdy-c12=""> So what happened. The variable <i _ngcontent-jdy-c12="">foo</i> was hoisted (it was declared), but the assignment happened after the <i _ngcontent-jdy-c12="">foo</i> was printed, at which point <i _ngcontent-jdy-c12="">foo</i> was undefined, i.e. it had no data.
</p><p _ngcontent-jdy-c12=""> Hoisting can be quite annoying. You might want to improve runtime efficiency in your application by not creating objects that aren't required.
</p><div class="code-toolbar"><pre _ngcontent-jdy-c12="" class="example-good line-numbers language-javascript"><code _ngcontent-jdy-c12="" class="match-braces language-javascript"><span class="token keyword">var</span> stopMyCode <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-59-close">(</span>stopMyCode<span class="token punctuation brace-round brace-close brace-level-1" id="pair-59-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-60-close">{</span>
  <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-60-open">}</span>

<span class="token keyword">var</span> myObjectThatShouldExist <span class="token operator">=</span> <span class="token string">'iExist'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-jdy-c12=""> As you know <i _ngcontent-jdy-c12="">myObjectThatShouldExist</i> does exist due to hoisting, even though the return statement is called in the <i _ngcontent-jdy-c12="">if</i> block!
</p><hr _ngcontent-jdy-c12=""><h2 _ngcontent-jdy-c12="">Global Var</h2><p _ngcontent-jdy-c12=""> Variables can be declared globally so they're available anywhere.
</p><div class="code-toolbar"><pre _ngcontent-jdy-c12="" class="example-neutral line-numbers language-javascript"><code _ngcontent-jdy-c12="" class="match-braces language-javascript"><span class="token keyword">var</span> globalFoo <span class="token operator">=</span> <span class="token string">"bar"</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-61-close">(</span>globalFoo<span class="token punctuation brace-round brace-close brace-level-1" id="pair-61-open">)</span><span class="token punctuation">;</span><span class="token comment">//print bar</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-62-close">(</span>window<span class="token punctuation">.</span>globalFoo<span class="token punctuation brace-round brace-close brace-level-1" id="pair-62-open">)</span><span class="token punctuation">;</span><span class="token comment">//print bar</span>
window<span class="token punctuation">.</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-63-close">(</span>window<span class="token punctuation">.</span>globalFoo<span class="token punctuation brace-round brace-close brace-level-1" id="pair-63-open">)</span><span class="token punctuation">;</span><span class="token comment">//print bar</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-64-close">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>globalFoo<span class="token punctuation brace-round brace-close brace-level-1" id="pair-64-open">)</span><span class="token punctuation">;</span><span class="token comment">//print bar</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-jdy-c12=""> When using <i _ngcontent-jdy-c12="">var</i> it gets added to the global object (<i _ngcontent-jdy-c12="">window</i> in browser), which is also the same as <i _ngcontent-jdy-c12="">this</i>! As a side note, <i _ngcontent-jdy-c12="">window</i> is also where most browser functionality sits, hence the confusing <i _ngcontent-jdy-c12="">window.console.log</i>!
</p><hr _ngcontent-jdy-c12=""><h2 _ngcontent-jdy-c12="">Var Idiosyncrasies</h2><p _ngcontent-jdy-c12=""> There are plenty of examples of unexpected <i _ngcontent-jdy-c12="">var</i> behaviour, commonly encountered in <i _ngcontent-jdy-c12="">for</i> loops.
</p><div class="code-toolbar"><pre _ngcontent-jdy-c12="" class="example-bad line-numbers language-javascript"><code _ngcontent-jdy-c12="" class="match-braces language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation brace-square brace-open brace-level-1" id="pair-71-close">[</span><span class="token punctuation brace-square brace-close brace-level-1" id="pair-71-open">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-65-close">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-65-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-72-close">{</span>
  arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-67-close">(</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-66-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-66-open">)</span> <span class="token operator">=&gt;</span> i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-67-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-72-open">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-70-close">(</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-69-close">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token function">x</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-68-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-68-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-69-open">)</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-70-open">)</span><span class="token punctuation">;</span> <span class="token comment">// prints [3,3,3]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-jdy-c12=""> What happened, why wasn't <i _ngcontent-jdy-c12="">i</i> incremented! This is because <i _ngcontent-jdy-c12="">i</i> is bound to the same value outside of the anonymous function, therefore it only takes the last value that <i _ngcontent-jdy-c12="">i</i> was assigned to. So what is the solution?
</p><div class="code-toolbar"><pre _ngcontent-jdy-c12="" class="example-good line-numbers language-javascript"><code _ngcontent-jdy-c12="" class="match-braces language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation brace-square brace-open brace-level-1" id="pair-79-close">[</span><span class="token punctuation brace-square brace-close brace-level-1" id="pair-79-open">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-73-close">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-73-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-80-close">{</span>
  arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-75-close">(</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-74-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-74-open">)</span> <span class="token operator">=&gt;</span> i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-75-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-80-open">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-78-close">(</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-77-close">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token function">x</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-76-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-76-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-77-open">)</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-78-open">)</span><span class="token punctuation">;</span> <span class="token comment">// [0,1,2]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-jdy-c12=""> That seemed easy, lets have a quick peek at <i _ngcontent-jdy-c12="">let</i>.
</p><hr _ngcontent-jdy-c12=""><h2 _ngcontent-jdy-c12=""> Let and Const</h2><p _ngcontent-jdy-c12=""> In 2015 ECMA6 was released (JavaScript 6). It introduced <i _ngcontent-jdy-c12="">let</i> and <i _ngcontent-jdy-c12="">const</i>, amongst other things. You may have guessed but <i _ngcontent-jdy-c12="">let</i> and <i _ngcontent-jdy-c12="">const</i> are the alternative to <i _ngcontent-jdy-c12="">var</i>. As we know <i _ngcontent-jdy-c12="">var</i> has no block scope. Get ready for this, <i _ngcontent-jdy-c12="">let</i> allows you to declare a variable with block scope. <i _ngcontent-jdy-c12="">Const</i> also allows you to do the same, but the value assigned is a constant.
</p><div class="code-toolbar"><pre _ngcontent-jdy-c12="" class="example-good line-numbers language-javascript"><code _ngcontent-jdy-c12="" class="match-braces language-javascript"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span> <span class="token comment">// x is 99</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-82-close">{</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>  <span class="token comment">// x is 9</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-82-open">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-81-close">(</span>x<span class="token punctuation brace-round brace-close brace-level-1" id="pair-81-open">)</span><span class="token punctuation">;</span> <span class="token comment">//x is 99</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-jdy-c12=""><i _ngcontent-jdy-c12="">Let</i> is used to declare and assign <i _ngcontent-jdy-c12="">x</i> in its own scope (defined by curly braces). It does not affect the outer scope.
</p><div class="code-toolbar"><pre _ngcontent-jdy-c12="" class="example-good line-numbers language-javascript"><code _ngcontent-jdy-c12="" class="match-braces language-javascript"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span> <span class="token comment">// Here x is 99</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-84-close">{</span>
  <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>  <span class="token comment">// Here x is 9</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-84-open">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-83-close">(</span>x<span class="token punctuation brace-round brace-close brace-level-1" id="pair-83-open">)</span><span class="token punctuation">;</span> <span class="token comment">//x is still 99</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-jdy-c12=""> This time we're using <i _ngcontent-jdy-c12="">const</i> instead of <i _ngcontent-jdy-c12="">let</i>, which make no difference in this case, unless...
</p><div class="code-toolbar"><pre _ngcontent-jdy-c12="" data-line="4" class="example-bad  language-javascript"><code _ngcontent-jdy-c12="" class=" match-braces  language-javascript"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span> <span class="token comment">// Here x is 99</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-85-close">{</span>
  <span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>  <span class="token comment">// Here x is 9</span>
  x <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// TypeError: Assignment to constant variable.</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-85-open">}</span><div aria-hidden="true" data-range="4" class=" line-highlight" data-start="4" style="top: 72px;"> 
</div></code></pre><div class="toolbar"><div class="toolbar-item"><span>JavaScript</span></div><div class="toolbar-item"><button type="button">Copy</button></div></div></div><p _ngcontent-jdy-c12=""><i _ngcontent-jdy-c12="">Const</i><i _ngcontent-jdy-c12="">x</i> is declared and assigned in the inner scope. It is then incremented by 1, but this fails. As a <i _ngcontent-jdy-c12="">const</i> is a constant value, trying to change it will throw an error.
</p><hr _ngcontent-jdy-c12=""><h2 _ngcontent-jdy-c12=""> Conclusion</h2><p _ngcontent-jdy-c12=""> If you want block scope for the variables you declare and assign to, which you probably would, use <i _ngcontent-jdy-c12="">let</i> or <i _ngcontent-jdy-c12="">const</i>. If you work with Javascript, you will come across <i _ngcontent-jdy-c12="">var</i>, so make sure you understand it.
</p></app-javascript-variables-and-scope><!----></div></div><app-message-box _ngcontent-jdy-c18="" _nghost-jdy-c17=""><div _ngcontent-jdy-c17="" class="message"><!----></div></app-message-box><footer _ngcontent-jdy-c18="">Copyright Â© 2020 - 2021, David Beales. All Rights Reserved. </footer><!----></app-root>
<script id="ScullyIO-transfer-state"></script><script src="runtime-es2015.a4dadbc03350107420a4.js" type="module"></script><script src="runtime-es5.a4dadbc03350107420a4.js" nomodule="" defer=""></script><script src="polyfills-es5.e0f142c56ab5df25265e.js" nomodule="" defer=""></script><script src="polyfills-es2015.ec9630898b0fafd3b25c.js" type="module"></script><script src="main-es2015.7ae919341da73629c14b.js" type="module"></script><script src="main-es5.7ae919341da73629c14b.js" nomodule="" defer=""></script>

</body></html>